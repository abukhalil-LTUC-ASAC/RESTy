(this.webpackJsonpresty=this.webpackJsonpresty||[]).push([[0],{19:function(e,t,n){e.exports=n(47)},25:function(e,t,n){},26:function(e,t,n){},27:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(16),s=n.n(o),i=n(1),c=n.n(i),l=n(6),u=n(2),h=n(3),m=n(5),p=n(4),d=(n(25),n(26),n(27),function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){return r.a.createElement("header",null,r.a.createElement("div",null,"RESTy"))}}]),n}(a.Component)),f=(n(28),function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){return r.a.createElement("footer",null,r.a.createElement("div",null,"This is my footer"))}}]),n}(a.Component)),g=n(8),v=(n(29),n(9)),y=n.n(v);function E(e,t,n,a){return b.apply(this,arguments)}function b(){return(b=Object(l.a)(c.a.mark((function e(t,n,a,r){var o,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o="",e.t0=n,e.next="GET"===e.t0?4:"POST"===e.t0?8:"UPDATE"===e.t0?12:"DELETE"===e.t0?16:20;break;case 4:return e.next=6,j(t);case 6:return o=e.sent,e.abrupt("break",21);case 8:return e.next=10,k(t,a);case 10:return o=e.sent,e.abrupt("break",21);case 12:return e.next=14,x(t,a,r);case 14:return o=e.sent,e.abrupt("break",21);case 16:return e.next=18,P(t,r);case 18:return o=e.sent,e.abrupt("break",21);case 20:throw new Error("Invalid Method");case 21:if(!(s=o.headers["content-type"])||-1===s.indexOf("application/json")){e.next=26;break}return e.abrupt("return",o.body);case 26:throw new Error("Invalid Response not a JSON");case 27:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e){if(e)try{var t;return console.log(e),t=JSON.parse(e),console.log(t),t}catch(n){throw new Error("Bad Object Params")}}function j(e){return w.apply(this,arguments)}function w(){return(w=Object(l.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get(t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e,t){return S.apply(this,arguments)}function S(){return(S=Object(l.a)(c.a.mark((function e(t,n){var a,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=O(n),e.next=3,y.a.post(t).send(a);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e,t,n){return T.apply(this,arguments)}function T(){return(T=Object(l.a)(c.a.mark((function e(t,n,a){var r,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=O(n),e.next=3,y.a.put(t+"".concat(a)).send(r);case 3:return o=e.sent,e.abrupt("return",o);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e,t){return C.apply(this,arguments)}function C(){return(C=Object(l.a)(c.a.mark((function e(t,n){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.delete(t+"".concat(n));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var L=n(7),N=n(17),I=n.n(N),A=function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={url:"",method:"GET",params:"",id:""},a.onMethodChoice=a.onMethodChoice.bind(Object(g.a)(a)),a.onURLChange=a.onURLChange.bind(Object(g.a)(a)),a.onParamChange=a.onParamChange.bind(Object(g.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(g.a)(a)),a}return Object(h.a)(n,[{key:"componentWillReceiveProps",value:function(e){0===Object.keys(e.form).length&&e.form.constructor===Object||(console.log("Filling form with: ",e.form),this.setState({url:e.form.url,method:e.form.method,params:e.form.params}))}},{key:"onMethodChoice",value:function(e){this.setState({method:e.target.value})}},{key:"onURLChange",value:function(e){this.setState({url:e.target.value})}},{key:"onParamChange",value:function(e){this.setState({params:e.target.value})}},{key:"handleSubmit",value:function(){var e=Object(l.a)(c.a.mark((function e(t){var n,a=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),this.saveData(),e.next=4,this.props.updateHistory();case 4:return this.props.toggleLoading(),console.log("doing crud"),e.next=8,E(this.state.url,this.state.method,this.state.params,this.state.id);case 8:n=e.sent,this.props.handler(n),setTimeout((function(){a.props.toggleLoading()}),1e3);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"saveData",value:function(){var e=JSON.parse(localStorage.getItem("API History")),t={url:this.state.url,method:this.state.method,params:this.state.params,id:this.state.id};console.log("saving output: ",t),e[I()(JSON.stringify(t))]=t,localStorage.setItem("API History",JSON.stringify(e))}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{onChange:this.onMethodChoice},r.a.createElement("input",{type:"radio",value:"GET",checked:"GET"===this.state.method,name:"method"})," GET",r.a.createElement("input",{type:"radio",value:"POST",checked:"POST"===this.state.method,name:"method"})," POST",r.a.createElement("input",{type:"radio",value:"UPDATE",checked:"UPDATE"===this.state.method,name:"method"})," UPDATE",r.a.createElement("input",{type:"radio",value:"DELETE",checked:"DELETE"===this.state.method,name:"method"})," DELETE"),r.a.createElement("label",null,"URL:",r.a.createElement("input",{type:"text",value:this.state.url,onChange:this.onURLChange})),r.a.createElement("input",{type:"submit",value:"Submit"}),r.a.createElement("br",null),this.state.method,r.a.createElement("br",null),r.a.createElement(L.If,{condition:function(){return e.state.method&&/POST|UPDATE/.test(e.state.method)}},r.a.createElement(L.Then,null,r.a.createElement("div",{className:"body"},r.a.createElement("textarea",{value:this.state.params,onChange:this.onParamChange}))),r.a.createElement(L.Else,null,r.a.createElement(L.When,{condition:!0})))))}}]),n}(a.Component),D=(n(43),n(18)),H=n.n(D);function R(){return(R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function U(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var J=r.a.createElement("script",{type:"text/ecmascript",xlinkHref:"//faviconer.net/jscripts/smil.user.js"}),M=r.a.createElement("g",null,r.a.createElement("path",{d:"M64 16.5A66.53 66.53 0 0 0 .26 64a63.75 63.75 0 0 1 127.5 0h-.02A66.53 66.53 0 0 0 64 16.5z",fill:"#6e346e",fillOpacity:1}),r.a.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"0 64 64",to:"360 64 64",dur:"1200ms",repeatCount:"indefinite"})),F=function(e){var t=e.svgRef,n=e.title,a=U(e,["svgRef","title"]);return r.a.createElement("svg",R({xmlnsXsvg:"http://www.w3.org/2000/svg",width:"500px",height:"500px",viewBox:"0 0 128 128",xmlXspace:"preserve",ref:t},a),n?r.a.createElement("title",null,n):null,J,M)},W=r.a.forwardRef((function(e,t){return r.a.createElement(F,R({svgRef:t},e))})),G=(n.p,n(44),function(e){return r.a.createElement("div",{className:"overlay ".concat(e.show?"show":"hide")},r.a.createElement(W,null))}),B=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(G,{show:e.loading}),r.a.createElement(L.If,{condition:0!==e.data.length},r.a.createElement(L.Then,null,r.a.createElement(H.a,{id:"json-pretty",data:e.data,replacer:function(e,t){return"cccc"===e&&(t+="~~~abc"),"gggg"===e&&(t*=10),t},space:"6"})),r.a.createElement(L.Else,null,r.a.createElement(L.When,{condition:0===e.data.length},r.a.createElement("div",{className:"empty"},"Waiting for input")))))},X=(n(45),n(46),function(e){return r.a.createElement("ul",{className:"list"},e.children)}),z=function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={lists:[]},a}return Object(h.a)(n,[{key:"componentWillReceiveProps",value:function(e){this.updateForm(),console.log("Changed List to: ",this.state.lists)}},{key:"componentDidMount",value:function(){this.updateForm(),console.log("Added List")}},{key:"updateForm",value:function(){var e=this;this.setState({lists:Object.keys(this.props.history).map((function(t){return r.a.createElement("li",{key:t,onClick:function(){return e.props.fetch(e.props.history[t])}},r.a.createElement("div",{className:"method"},e.props.history[t].method),r.a.createElement("div",{className:"url"},e.props.history[t].url),r.a.createElement("div",{className:"body"},e.props.history[t].params))}))})}},{key:"render",value:function(){return r.a.createElement("aside",null,r.a.createElement("div",{className:"title"},"Aside"),r.a.createElement("hr",null),r.a.createElement(X,null,this.state.lists))}}]),n}(r.a.Component),$=function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).toggleLoading=function(){a.setState({loading:!a.state.loading})},a.updateHandler=function(e){console.log(e),a.setState({results:e})},a.updateHistory=Object(l.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("updating history"),e.next=3,JSON.parse(localStorage.getItem("API History"));case 3:t=e.sent,a.setState({history:t}),console.log(a.state.history);case 6:case"end":return e.stop()}}),e)}))),a.fetchHistory=function(e){console.log("filling form with history"),console.log(e),a.setState({form:e})},a.state={loading:!1,results:[],history:JSON.parse(localStorage.getItem("API History")),form:{}},a}return Object(h.a)(n,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(d,null),r.a.createElement(z,{history:this.state.history,fetch:this.fetchHistory}),r.a.createElement("main",null,r.a.createElement(A,{toggleLoading:this.toggleLoading,handler:this.updateHandler,updateHistory:this.updateHistory,form:this.state.form}),r.a.createElement(B,{loading:this.state.loading,data:this.state.results})),r.a.createElement(f,null))}}]),n}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement($,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[19,1,2]]]);
//# sourceMappingURL=main.b4f46de5.chunk.js.map